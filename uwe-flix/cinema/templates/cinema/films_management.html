{% extends 'base.html' %} {% block content %}

<div class="container mt-4">
  <h1>Manage Films</h1>

  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
      <a
        class="nav-link active"
        id="films-tab"
        data-toggle="tab"
        href="#films"
        role="tab"
        aria-controls="films"
        aria-selected="true"
        >Films</a
      >
    </li>
    <li class="nav-item">
      <a
        class="nav-link"
        id="archived-films-tab"
        data-toggle="tab"
        href="#archived-films"
        role="tab"
        aria-controls="archived-films"
        aria-selected="false"
        >Archived Films</a
      >
    </li>
  </ul>

  <div class="tab-content" id="myTabContent">
    <div
      class="tab-pane fade show active"
      id="films"
      role="tabpanel"
      aria-labelledby="films-tab"
    >
      <table class="table table-striped mt-3">
        <thead>
          <tr>
            <th>Film</th>
            <th>Length</th>
            <th>Rating</th>
            <th>Description</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for film in films %}
          <tr>
            <td>{{ film.title }}</td>
            <td>{{ film.length }}</td>
            <td>{{ film.rating }}</td>
            <td>{{ film.description }}</td>
            <td>
              <a
                href="{% url 'update_film' pk=film.id %}"
                class="btn btn-primary"
                >Edit</a
              >
              <a
                href="{% url 'delete_film' pk=film.id %}"
                class="btn btn-danger"
                onclick="return confirm('Are you sure you want to delete this film? \n {{ film.title }} \n Length: {{ film.length }} \n Rating: {{ film.rating }}')"
                >Delete</a
              >
            </td>
          </tr>

          {% endfor %}
        </tbody>
      </table>
      <a href="{% url 'create_film' %}" class="btn btn-success mt-3"
        >Create Film</a
      >
    </div>

    <div
      class="tab-pane fade"
      id="archived-films"
      role="tabpanel"
      aria-labelledby="archived-films-tab"
    >
      <table class="table table-striped mt-3">
        <thead>
          <tr>
            <th>Film</th>
            <th>Length</th>
            <th>Rating</th>
            <th>Description</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for film in archived_films %}
          <tr>
            <td>{{ film.title }}</td>
            <td>{{ film.length }}</td>
            <td>{{ film.rating }}</td>
            <td>{{ film.description }}</td>
            <td>
              <a
                href="{% url 'update_film' pk=film.id %}"
                class="btn btn-primary"
                >Edit</a
              >
              <a
                href="{% url 'delete_film' pk=film.id %}"
                class="btn btn-danger"
                onclick="return confirm('Are you sure you want to delete this film? \n {{ film.title }} \n Length: {{ film.length }} \n Rating: {{ film.rating }}')"
                >Delete</a
              >
            </td>
          </tr>

          {% endfor %}
        </tbody>
      </table>
      <a href="{% url 'create_film' %}" class="btn btn-success mt-3"
        >Create Film</a
      >
    </div>
    {% endblock %}
  </div>
</div>
